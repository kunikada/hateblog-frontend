# タグ別エントリー一覧

## 画面概要
- **画面名**: タグ別エントリー一覧
- **URL**: `/tags/:tag`
- **URLパラメータ**:
  - `tag`: タグ名（URLエンコード）
  - `min_users`: 最低ブックマーク件数（任意、デフォルト: 5）
  - `page`: ページ番号（デフォルト: 1）
- **目的**: 指定タグのエントリーを新着順で一覧表示

### URL例
- `/tags/Go`（Goタグの一覧）

## レイアウト構成

### パンくずリスト
- タグ > {tag}

### ページヘッダー
- タグ名を大きく表示（例: "タグ: Go"）
- タグ説明（任意）
- エントリー数（例: "1,234 エントリー"）

### 関連タグ（任意）
- 関連タグバッジを横並び表示（クリックで遷移）

### フィルタバー
- はてブ件数閾値チップ: 5/10/50/100/500/1000（複数選択可、クリアボタン）
- PC: 水平配置、SP: 横スクロールチップ

### メインコンテンツ
- エントリーカードリスト（PC: 2列、SP: 1列）
- 読み込み中はスケルトン表示

### ページネーション
- 前/次ボタン + ページ番号

## エントリーカード構成
- 内容・挙動は [docs/screens/03_entries_new.md](docs/screens/03_entries_new.md) と同一

## API連携

### 初期データ取得
```
GET /api/v1/tags/{tag}/entries?min_users={number}&limit=25&offset=0
```

#### リクエストパラメータ
- `tag`: パスパラメータ（URLエンコード）
- `min_users`: 5/10/50/100/500/1000
- `limit`: 取得件数（デフォルト: 25）
- `offset`: オフセット（ページング）

#### レスポンス
- `openapi.yaml` を参照

### タグ情報取得（任意）
- 関連タグや説明が必要な場合に `/api/v1/tags` を利用

### クリック計測
- カードクリック時は [docs/screens/03_entries_new.md](docs/screens/03_entries_new.md) と同一処理

## インタラクション

### 閾値フィルタ
1. チップを選択/解除（複数可）
2. 選択状態で再取得し、件数表示を更新

### エントリーカード
- クリック計測 → 元記事を新規タブで開く（[docs/screens/03_entries_new.md](docs/screens/03_entries_new.md) 準拠）

### 関連タグ
- バッジクリックで `/tags/{tag_name}` に遷移

### ページネーション
- 前/次ボタンで `page ± 1`、またはページ番号指定

## 状態管理

### ローカルステート
- `tagName`, `minUsers[]`, `page`
- `entries`, `total`
- `isLoading`, `error`

### localStorage
- `viewHistory`: 閲覧履歴

## デザインガイドライン
- タグ名: 32px Bold、Hatebuブルー + タグアイコン
- エントリー数: 18px、グレー(#666)
- 関連タグバッジ: 薄グレー背景、角丸16px、ホバーでHatebuブルー反転
- カードは [docs/screens/03_entries_new.md](docs/screens/03_entries_new.md) と同一スタイル

## アクセシビリティ
- パンくず: `<nav aria-label="Breadcrumb">`
- タグ名: `<h1>`
- 関連タグ: `aria-label="関連タグ"`
- カード: `role="article"`

## パフォーマンス
- 初期表示2秒以内
- 同一タグ・閾値のキャッシュ再利用
- Favicon遅延読み込み

## エラーハンドリング
- 400: "タグ名が正しくありません"
- 404: "タグが見つかりません"
- 500: "サーバーエラーが発生しました"
- データなし: "該当するエントリーがありません"
- いずれもトースト表示 + 再試行/タグ一覧への導線

## テスト観点

### 表示
- [ ] パンくずとタグ名が表示される
- [ ] エントリー数が表示される
- [ ] 関連タグバッジが表示される（設定時）
- [ ] 閾値チップが表示される
- [ ] カードとページネーションが表示される

### 機能
- [ ] 閾値変更で結果がフィルタされる
- [ ] カードクリックで元記事が新規タブで開く
- [ ] 関連タグクリックでタグ遷移する
- [ ] ページネーションが動作する

### レスポンシブ
- [ ] PCで2列、SPで1列表示
- [ ] 閾値チップが横スクロール可能（SP）

### パフォーマンス
- [ ] 初期表示が2秒以内
