# 人気順エントリー一覧

## 画面概要
- **画面名**: 人気順エントリー一覧
- **URL**: `/entries/hot`
- **URLパラメータ**:
  - `date`: 対象日付（YYYYMMDD形式、省略時は今日）
  - `min_users`: 最低ブックマーク件数フィルタ（デフォルト: 10）
  - `page`: ページ番号（デフォルト: 1）
- **目的**: 指定日付のエントリーを人気順（bookmark_count DESC, posted_at DESC）で表示

## 新着順エントリー一覧との差分

### 主な違い
1. **ソート順**: ブックマーク件数降順（bookmark_count DESC）→ 投稿日時降順（posted_at DESC）
2. **デフォルト閾値**: 10 users（新着順は5 users）
3. **APIエンドポイント**: `/api/v1/entries/hot`
4. **ページタイトル**: "人気エントリー"

### 共通部分
- レイアウト構成
- エントリーカード構成
- フィルタ機能
- インタラクション
- 状態管理

## レイアウト構成

### ページヘッダー
- ページタイトル: "人気エントリー"
- 対象日付表示: "2025年1月5日"
- 日付選択カレンダー
- 前日/翌日ナビゲーションボタン

### フィルタバー
- はてなブックマーク件数閾値チップ
  - 10 users（デフォルト選択）/ 50 users / 100 users / 500 users / 1000 users
  - 複数選択可能（OR条件）
  - クリアボタン
- PC: 水平配置
- SP: 横スクロールチップ

### メインコンテンツ
- エントリーカードリスト
  - **ソート順**: ブックマーク件数が多い順
  - 同一ブックマーク件数の場合は投稿日時が新しい順
  - PC: 2列グリッド
  - SP: 1列リスト
- 読み込み中: スケルトンスクリーン表示

### ページネーション
- 前のページ / 次のページボタン
- ページ番号表示（現在ページ / 総ページ数）
- ページ数セレクタ

## エントリーカード構成

新着順エントリー一覧と同じ構成。詳細は [02_entries_new.md](./02_entries_new.md) を参照。

### 特記事項
- ブックマーク件数バッジをより目立たせる
- 人気度に応じてバッジの色を変更（オプション）
  - 100 users以上: ゴールド
  - 500 users以上: オレンジ
  - 1000 users以上: レッド

## API連携

### 初期表示
```
GET /api/v1/entries/hot?date={YYYYMMDD}&min_users={number}&limit=25&offset=0
```

#### リクエストパラメータ
- `date`: 対象日付（YYYYMMDD形式）
- `min_users`: 最低ブックマーク件数（デフォルト: 10）
- `limit`: 取得件数（デフォルト: 25）
- `offset`: オフセット（ページネーション用）

#### レスポンス
新着順エントリー一覧と同じフォーマット。詳細は [02_entries_new.md](./02_entries_new.md) を参照。

ソート順が異なる点に注意:
- `bookmark_count DESC, posted_at DESC`

### クリック計測
新着順エントリー一覧と同じ。詳細は [02_entries_new.md](./02_entries_new.md) を参照。

## インタラクション

新着順エントリー一覧と同じ。詳細は [02_entries_new.md](./02_entries_new.md) を参照。

### 特記事項
- デフォルトの閾値フィルタが「10 users」で初期選択される

## 状態管理

新着順エントリー一覧と同じ。詳細は [02_entries_new.md](./02_entries_new.md) を参照。

### ローカルステート
- 選択日付（date）
- 選択閾値フィルタ（minUsers、デフォルト: 10）
- 現在ページ（page）
- エントリーリスト（entries）
- 総件数（total）
- ローディング状態（isLoading）
- エラー状態（error）

## デザインガイドライン

新着順エントリー一覧と同じ。詳細は [02_entries_new.md](./02_entries_new.md) を参照。

### ブックマーク件数バッジ（人気順専用拡張）
- 100-499 users: ゴールド背景（#FFD700）
- 500-999 users: オレンジ背景（#FF8C00）
- 1000 users以上: レッド背景（#DC143C）
- テキスト色: 白

## アクセシビリティ

新着順エントリー一覧と同じ。詳細は [02_entries_new.md](./02_entries_new.md) を参照。

## パフォーマンス

新着順エントリー一覧と同じ。詳細は [02_entries_new.md](./02_entries_new.md) を参照。

## エラーハンドリング

新着順エントリー一覧と同じ。詳細は [02_entries_new.md](./02_entries_new.md) を参照。

## テスト観点

### 表示テスト
- [ ] ページタイトルが"人気エントリー"と表示される
- [ ] エントリーがブックマーク件数順に並んでいる
- [ ] デフォルトの閾値フィルタが「10 users」になっている
- [ ] ブックマーク件数バッジが目立つ表示になっている
- [ ] 100 users以上のエントリーバッジがゴールドになっている
- [ ] 500 users以上のエントリーバッジがオレンジになっている
- [ ] 1000 users以上のエントリーバッジがレッドになっている

### 機能テスト
- [ ] 閾値フィルタを変更するとエントリーがフィルタされる
- [ ] ソート順がブックマーク件数降順になっている
- [ ] 同一ブックマーク件数の場合は投稿日時降順になっている
- その他の機能テストは [02_entries_new.md](./02_entries_new.md) と同じ

### レスポンシブテスト
- 新着順エントリー一覧と同じ。詳細は [02_entries_new.md](./02_entries_new.md) を参照。

### パフォーマンステスト
- 新着順エントリー一覧と同じ。詳細は [02_entries_new.md](./02_entries_new.md) を参照。

## 備考
- 人気順エントリー一覧は新着順エントリー一覧のバリエーションであり、多くの実装を共通化できる
- コンポーネント設計時は、ソート種別をプロパティとして受け取る共通コンポーネントを検討する
