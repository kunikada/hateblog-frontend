# トップページ

## 画面概要
- **画面名**: トップページ（ホーム）
- **URL**: `/`
- **目的**: サイトのエントリーポイント。検索フォーム、グローバルナビゲーション、サイト説明を提供し、各機能への導線を提供する

## レイアウト構成

### ヘッダー
- サイトロゴ（左上）
- サイト説明文（キャッチコピー）
- ダークモード切り替えボタン（右上）

### ヒーローセクション
- サイトロゴ（大）
- サイト説明文
- 検索フォーム（大）
  - テキスト入力フィールド
  - 検索ボタン
  - 検索種別セレクタ（全文/タイトル/タグ）

### グローバルナビゲーション
- 新着順
- 人気順
- アーカイブ
- ランキング
- 閲覧履歴

PC: 水平タブ表示
SP: スワイプタブ + ハンバーガーメニュー

### メインコンテンツ
- 新着エントリーのプレビュー（最新5-10件）
- 人気エントリーのプレビュー（最新5-10件）
- 各セクションに「もっと見る」リンク

### フッター
- コピーライト
- 利用規約、プライバシーポリシーへのリンク
- お問い合わせリンク

## UI要素詳細

### 検索フォーム
- **入力フィールド**
  - プレースホルダー: "キーワードを入力して検索"
  - 最大文字数: 500文字
  - バリデーション: 1文字以上
- **検索種別セレクタ**
  - 全文検索（デフォルト）
  - タイトル検索
  - タグ検索
- **検索ボタン**
  - クリックで `/search?q={keyword}` に遷移

### ナビゲーションタブ
- 新着順: `/entries/new` に遷移
- 人気順: `/entries/hot` に遷移
- アーカイブ: `/archive` に遷移
- ランキング: `/rankings/{current_year}` に遷移
- 閲覧履歴: `/history` に遷移

### エントリープレビューカード
各エントリーは以下の要素を含む：
- Favicon
- タイトル
- 投稿日時
- はてなブックマーク件数
- タグ（最大3-5個）
- 記事抜粋（100文字程度）

レイアウト:
- PC: 2列グリッド
- SP: 1列リスト

## API連携

### 初期表示
- `GET /entries/new?limit=10&min_users=5`
  - 新着エントリー10件を取得
- `GET /entries/hot?limit=10&min_users=10`
  - 人気エントリー10件を取得

## インタラクション

### 検索実行
1. 検索ボタンクリック
2. バリデーション（1文字以上）
3. 検索結果ページ（`/search`）に遷移
   - クエリパラメータ: `?q={keyword}&type={search_type}`

### エントリーカードクリック
1. カードクリック
2. クリック計測APIを呼び出し
   - `POST /metrics/clicks`
   - Body: `{ entry_id: "uuid" }`
3. 元記事URLを新規タブで開く
4. 閲覧履歴をlocalStorageに保存

### ナビゲーションタブクリック
- 対応するページに遷移
- アクティブタブはハイライト表示

## 状態管理

### ローカルステート
- 検索キーワード
- 検索種別（全文/タイトル/タグ）
- ダークモードON/OFF

### グローバルステート
- テーマ設定（ライト/ダーク）

### localStorage
- `theme`: ダークモード設定（`light` | `dark`）
- `viewHistory`: 閲覧履歴（配列）

## デザインガイドライン

### カラーパレット
- プライマリ: Hatebuブルー（#00A4DE）
- セカンダリ: グレー系（#333, #666, #999, #CCC）
- 背景: 白（ライト）/ ダークグレー（ダーク）
- テキスト: #333（ライト）/ #EEE（ダーク）

### スペーシング
- セクション間: 40px（PC）/ 24px（SP）
- カード間: 16px
- 内部パディング: 16px

### タイポグラフィ
- 見出し（H1）: 32px / Bold
- 見出し（H2）: 24px / Bold
- 本文: 16px / Regular
- キャプション: 14px / Regular

### レスポンシブブレークポイント
- モバイル: 〜768px
- タブレット: 769px〜1024px
- デスクトップ: 1025px〜

## アクセシビリティ

- セマンティックHTML使用
- キーボードナビゲーション対応
- ARIAラベル適用
- カラーコントラスト比4.5:1以上
- フォーカスインジケーター明示

## パフォーマンス

- 初期表示: 2秒以内
- 画像遅延読み込み（Lazy Loading）
- APIレスポンス待機時: スケルトンスクリーン表示
- 検索フォーム: デバウンス処理（300ms）

## エラーハンドリング

### API通信エラー
- エラーメッセージをトースト表示
- 再試行ボタンを提供

### ネットワークエラー
- オフライン検知
- キャッシュデータ表示（可能であれば）

## テスト観点

### 表示テスト
- [ ] ロゴとサイト説明が正しく表示される
- [ ] 検索フォームが表示される
- [ ] グローバルナビゲーションが表示される
- [ ] 新着エントリープレビューが表示される
- [ ] 人気エントリープレビューが表示される

### 機能テスト
- [ ] 検索フォームに入力できる
- [ ] 検索種別を切り替えられる
- [ ] 検索ボタンをクリックすると検索結果ページに遷移する
- [ ] ナビゲーションタブをクリックすると対応ページに遷移する
- [ ] エントリーカードをクリックすると元記事が新規タブで開く
- [ ] ダークモード切り替えが動作する

### レスポンシブテスト
- [ ] PC表示でレイアウトが適切
- [ ] タブレット表示でレイアウトが適切
- [ ] スマートフォン表示でレイアウトが適切
- [ ] ナビゲーションがデバイスごとに最適化される

### アクセシビリティテスト
- [ ] キーボード操作で全ての機能にアクセス可能
- [ ] スクリーンリーダーで読み上げ可能
- [ ] カラーコントラストが十分
