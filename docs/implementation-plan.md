# hateblog-frontend 実装計画書

## 1. プロジェクト概要

### 1.1 目的
はてなブックマークのエントリーを閲覧・検索できるWebアプリケーションのフロントエンドを構築する。

### 1.2 スコープ
- 主要画面の実装
  - トップページ（本日の人気）
  - 本日の新着
  - 1年前の人気
  - ランキング（週次/月次）
  - アーカイブ（日付リスト）
  - タグ別エントリー一覧
  - 検索結果
  - 閲覧履歴
- レスポンシブ対応（PC/タブレット/スマホ）
- ダークモード対応
- Infinite scroll対応
- トップページのSSG化

### 1.3 技術スタック
- React 19 + Vite
- TanStack Router + TanStack Query
- Tailwind CSS + shadcn/ui
- OpenAPI Generator
- Biome（Lint/Format）
- Vitest + Testing Library（テスト）

## 2. 開発フェーズとマイルストーン

> **開発方針**: UI実装を先に完了させ、その後にロジック（API連携、状態管理）を実装する

---

## Phase A: UI実装フェーズ（モックデータ使用）

### Phase A-0: プロジェクトセットアップ（1-2日）✅
**目標**: 開発環境の構築とプロジェクト基盤の整備

- [x] リポジトリ初期化
- [x] Vite + React 19 セットアップ
- [x] TanStack Router 導入（ルーティングのみ、Query は Phase B で）
- [x] Tailwind CSS, shadcn/ui セットアップ
- [x] Biome 設定
- [x] 開発用Dockerコンテナ作成
- [x] CI/CD パイプライン基礎設定（Lint/Format/Build）

**成果物**: 開発可能な環境、基本設定ファイル群 ✅

---

### Phase A-1: 基盤コンポーネント開発（UIのみ）（3-4日）✅
**目標**: 共通UIコンポーネントと基礎レイアウトの実装（モックデータ使用）

#### A-1.1 shadcn/ui コンポーネント統合
- [x] Button, Sheet, Badge（必要最小限）
- [x] デザインシステム統一（Hatenaブルー #00a4de 基調）
- [x] ダークモード切り替え機能（`ThemeProvider`）
- ~~Calendar, Popover, Dialog, Tabs~~（不要）

#### A-1.2 レイアウトコンポーネント
- [x] `AppLayout`（ヘッダー、グローバルナビゲーション、フッター）
  - ヘッダー: ロゴ + タイトル + 検索フォーム + ダークモードトグル + メニューボタン
  - グローバルナビゲーション（sticky）: 本日の人気、本日の新着、1年前の人気、先週のランキング、今月のランキング、アーカイブ、閲覧履歴
  - モバイル用サイドバー（Sheet使用）
  - レスポンシブ対応（PC/タブレット/スマホ）
- ~~PageHero~~（不要 - メインコンテンツ内に直接タイトル配置）
- ~~EntryListSection~~（不要 - 通常のdivで十分）

#### A-1.3 共通UIコンポーネント
- [x] `EntryCard`（エントリーカード）
  - Favicon, タイトル, 日時, ブックマーク数, タグ, 抜粋
  - 共有アクション（Twitter, Facebook, Pocket, Instapaper, Evernote）
  - モックデータで表示確認
- [x] `FilterBar`（はてブ数フィルタチップ: 全て、5+、10+、50+、100+、500+、1000+ users）
- ~~Pagination~~（不要 - infinite scroll使用）
- [x] `SkeletonList`（infinite scrollローディング表示）
- ~~DatePicker~~（不要 - DateNavigationに変更）
- [x] `DateNavigation`（前日/翌日リンク - URL search params使用）
- [x] `RankingBadge`（順位バッジ - 1位金、2位銀、3位銅）
- [x] `Sidebar`（サイドバー - 人気のタグ、週間ランキング、PC表示のみ）
- [x] `ScrollToTopButton`（トップに戻るボタン - スクロール300px以降表示）

#### A-1.4 モックデータ作成
- [x] `src/mocks/entries.ts`（エントリー一覧のモック）
- [x] `src/mocks/rankings.ts`（ランキングのモック）
- [x] `src/mocks/archive.ts`（アーカイブのモック）

**成果物**: 再利用可能な基盤コンポーネント群、モックデータ ✅

---

### Phase A-2: 画面UI実装 - トップページ・エントリー一覧系（3-4日）✅
**目標**: エントリー一覧画面のUIをモックデータで実装

#### A-2.1 人気順エントリー一覧（トップページ）
- [x] ルート定義（`/`）
- [x] メインコンテンツレイアウト（メインカラム + サイドバー）
- [x] ページタイトル（メインコンテンツ内に直接配置）
- [x] フィルタバー（はてブ数閾値: 全て、5+、10+、50+、100+、500+、1000+ users）
- ~~日付選択UI~~（不要 - DateNavigationは将来的にアーカイブから遷移時に使用）
- [x] エントリーカード一覧（モックデータ表示）
- [x] Infinite scroll（IntersectionObserver使用）
- [x] ローディング表示（SkeletonList）
- [x] サイドバー（人気のタグ、週間ランキング、PC表示のみ）
- [x] トップに戻るボタン（スクロール300px以降表示）
- [x] レスポンシブ対応確認

#### A-2.2 新着順エントリー一覧
- [x] ルート定義（`/entries/new`）
- [x] 人気順と同じレイアウト
- [x] モックデータ表示（新着順）
- [x] レスポンシブ対応確認

#### A-2.3 1年前の人気エントリー一覧
- [x] ルート定義（`/entries/past`）
- [x] DateNavigation（前日/翌日リンク）の表示
- [x] モックデータ表示
- [x] レスポンシブ対応確認

**成果物**: `/`, `/entries/new`, `/entries/past` 画面UI ✅

**追加で作成したコンポーネント**:
- `FilterBar` - はてブ数フィルタリング用コンポーネント
- `Sidebar` - サイドバー（人気のタグ、週間ランキング）
- `ScrollToTopButton` - トップに戻るボタン

---

### Phase A-3: 画面UI実装 - ランキング系（2-3日）
**目標**: ランキング画面のUIをモックデータで実装

#### A-3.1 週次ランキング
- [ ] ルート定義（`/rankings/weekly`）
- [ ] ページタイトル（メインコンテンツ内）
- [ ] TOP3大きく表示（RankingBadge: 金銀銅）
- [ ] ランキング一覧（4位以降、RankingBadge付き）
- [ ] 週選択UI（前週/次週リンク）
- [ ] サイドバー（人気のタグ、他期間ランキングリンク）
- [ ] モックデータ表示

#### A-3.2 月次ランキング
- [ ] ルート定義（`/rankings/monthly`）
- [ ] 週次と同じレイアウト
- [ ] 月選択UI（前月/次月リンク）
- [ ] モックデータ表示

#### A-3.3 年次ランキング（オプション）
- [ ] ルート定義（`/rankings/yearly`）
- [ ] 年選択UI
- [ ] モックデータ表示

**成果物**: `/rankings/weekly`, `/rankings/monthly`, `/rankings/yearly` 画面UI

---

### Phase A-4: 画面UI実装 - アーカイブ・検索・履歴（3-4日）
**目標**: その他の主要画面UIをモックデータで実装

#### A-4.1 アーカイブ
- [ ] ルート定義（`/archive`）
- [ ] ページタイトル（メインコンテンツ内）
- [ ] 全日付リスト表示（アコーディオン形式）
  - 年ごとにセクション分け
  - 月ごとに展開/折りたたみ
  - 日付リンク（エントリー件数表示）
- [ ] 日付クリックでDateNavigation付き人気エントリー画面へ遷移
- [ ] モックデータ表示
- [ ] レスポンシブ対応確認

#### A-4.2 タグ別エントリー一覧
- [ ] ルート定義（`/tags/:tag`）
- [ ] ページタイトル（タグ名表示）
- [ ] エントリーカード一覧
- [ ] Infinite scroll
- [ ] サイドバー（関連タグ、人気タグ）
- [ ] モックデータ表示

#### A-4.3 検索結果
- [ ] ルート定義（`/search`）
- [ ] 検索フォーム（再検索用）
- [ ] エントリーカード一覧
- [ ] キーワードハイライト
- [ ] Infinite scroll
- [ ] サイドバー（関連タグ、人気タグ）
- [ ] モックデータ表示

#### A-4.4 閲覧履歴
- [ ] ルート定義（`/history`）
- [ ] ページタイトル
- [ ] エントリーカード一覧（閲覧日時表示）
- [ ] Infinite scroll
- [ ] 期間フィルタ（今日、1週間、1ヶ月、全期間）
- [ ] 履歴削除ボタン（個別/一括）
- [ ] サイドバー
- [ ] モックデータ表示（localStorage想定）

**成果物**: `/archive`, `/tags/:tag`, `/search`, `/history` 画面UI

---

### Phase A-5: UI最終調整（2-3日）
**目標**: 全画面のデザイン統一とレスポンシブ確認

- [ ] デザインレビュー（全10画面）
- [ ] ダークモード全画面確認
- [ ] レスポンシブ全画面確認（PC/タブレット/スマホ）
- [ ] アニメーション・トランジション調整
- [ ] 共通コンポーネントのリファクタリング
- [ ] アクセシビリティ基本確認（キーボード操作、フォーカス）

**成果物**: UI完成版（全10画面、モックデータ動作）

---

## Phase B: ロジック実装フェーズ（API連携・状態管理）

### Phase B-1: API連携基盤構築（2-3日）
**目標**: バックエンドAPIとの連携基盤構築

#### B-1.1 OpenAPI クライアント生成
- [ ] `openapi.yaml` の確認・調整
- [ ] `pnpm openapi:generate` スクリプト作成
- [ ] `src/api/gen` 自動生成設定
- [ ] `.gitignore` に生成物を除外

#### B-1.2 API クライアントラッパー
- [ ] `src/api/clients/entriesClient.ts`（エントリー一覧取得）
- [ ] `src/api/clients/rankingsClient.ts`（ランキング取得）
- [ ] `src/api/clients/archiveClient.ts`（アーカイブ取得）
- [ ] `src/api/clients/searchClient.ts`（検索）
- [ ] `src/api/clients/metricsClient.ts`（クリック計測）
- [ ] エラーハンドリング（`AppError` 型定義）

#### B-1.3 TanStack Query 導入
- [ ] TanStack Query セットアップ
- [ ] クエリキー設計（`[resource, params]` 形式）
- [ ] キャッシュ戦略設定（stale-while-revalidate）
- [ ] エラーバウンダリ設定（`RetryBoundary`）

**成果物**: API連携基盤、エラーハンドリング

---

### Phase B-2: エントリー一覧系のロジック実装（2-3日）
**目標**: トップページとエントリー一覧のデータフェッチ実装

#### B-2.1 カスタムフック作成
- [ ] `useEntries` フック（エントリー一覧取得）
- [ ] `useEntriesFiltered` フック（はてブ数フィルタリング）
- [ ] `useMetricsTracking` フック（クリック計測）

#### B-2.2 画面へのロジック統合
- [ ] 人気順エントリー一覧（`/`, `/entries/:date/hot`）
  - ローダー実装（初期データフェッチ）
  - フィルタバーのロジック
  - 日付選択ロジック
  - ページネーションロジック
  - クリック計測
- [ ] 新着順エントリー一覧（`/entries/:date/new`）
  - 同様のロジック実装

#### B-2.3 テスト作成
- [ ] カスタムフックのユニットテスト
- [ ] 画面の統合テスト

**成果物**: トップページ・エントリー一覧の完全動作版

---

### Phase B-3: ランキング系のロジック実装（2-3日）
**目標**: ランキング画面のデータフェッチ実装

#### B-3.1 カスタムフック作成
- [ ] `useRankings` フック（年次/月次/週次）

#### B-3.2 画面へのロジック統合
- [ ] 年次ランキング（`/rankings/:year`）
  - ローダー実装
  - TOP3とそれ以降の分離ロジック
- [ ] 月次ランキング（`/rankings/:year/:month`）
  - ローダー実装
  - 月選択ロジック
- [ ] 週次ランキング（`/rankings/:year/week/:week`）
  - ローダー実装
  - 週選択ロジック

#### B-3.3 テスト作成
- [ ] カスタムフックのユニットテスト
- [ ] 画面の統合テスト

**成果物**: ランキング画面の完全動作版

---

### Phase B-4: その他画面のロジック実装（3-4日）
**目標**: アーカイブ・検索・履歴のロジック実装

#### B-4.1 カスタムフック作成
- [ ] `useArchive` フック（アーカイブ取得）
- [ ] `useSearch` フック（検索）
- [ ] `useBrowsingHistory` フック（閲覧履歴、localStorage）

#### B-4.2 ローカルストレージ管理
- [ ] `src/lib/historyStore.ts`（閲覧履歴）
- [ ] マイグレーション対応（version管理）

#### B-4.3 画面へのロジック統合
- [ ] アーカイブ（`/archive`）
  - データフェッチ
  - 年フィルタ、ソートロジック
  - 仮想スクロール対応（react-window等）
- [ ] タグ別エントリー一覧（`/tags/:tag`）
  - データフェッチ
  - 関連タグ取得（オプション）
- [ ] 検索結果（`/search/:search`）
  - データフェッチ
  - キーワードハイライト処理
  - 再検索ロジック
- [ ] 閲覧履歴（`/history`）
  - localStorage連携
  - 期間フィルタ、ソートロジック
  - 履歴削除ロジック（個別/一括）

#### B-4.4 テスト作成
- [ ] カスタムフックのユニットテスト
- [ ] 画面の統合テスト

**成果物**: 全10画面の完全動作版

---

## Phase C: 最適化・仕上げフェーズ

### Phase C-1: トップページSSG化（2-3日）
**目標**: トップページの静的生成対応

- [ ] `src/entry-server.tsx` 作成（SSRエントリーポイント）
- [ ] `scripts/prerender-top.ts` 作成（プリレンダリングスクリプト）
- [ ] `scripts/lib/prerender.ts`（共通処理）
- [ ] `src/main.tsx` ハイドレーション対応
- [ ] `build:with-top` スクリプト追加
- [ ] GitHub Actions 定期ビルド設定（Cron）
- [ ] CDN/S3 デプロイ設定
- [ ] テスト作成

**成果物**: SSG対応トップページ、定期ビルドCI

---

### Phase C-2: パフォーマンス最適化（2-3日）
**目標**: パフォーマンス改善

- [ ] Lighthouse スコア測定（目標: 90以上）
- [ ] Code Splitting（ルート単位）
- [ ] 画像遅延読み込み（Lazy Loading）
- [ ] Faviconキャッシュ最適化
- [ ] バンドルサイズ分析・削減
- [ ] React DevTools Profiler で最適化

**成果物**: パフォーマンス改善版

---

### Phase C-3: 統合テスト・アクセシビリティ（2-3日）
**目標**: 品質向上

#### C-3.1 統合テスト
- [ ] E2Eテスト（Playwright等）
  - 主要フロー（一覧閲覧、検索、フィルタ、ページネーション）
- [ ] レスポンシブテスト（各ブレークポイント）

#### C-3.2 アクセシビリティ
- [ ] axe-core テスト
- [ ] キーボード操作確認
- [ ] スクリーンリーダー確認

#### C-3.3 エラーハンドリング強化
- [ ] 全画面でのエラー境界設定確認
- [ ] ネットワークエラー検知
- [ ] オフライン対応（Service Worker検討）

**成果物**: テストカバレッジ向上、アクセシビリティ対応

---

### Phase C-4: 最終調整・ドキュメント整備（1-2日）
**目標**: リリース準備

#### C-4.1 ドキュメント整備
- [ ] README.md 更新（セットアップ、開発、ビルド手順）
- [ ] CONTRIBUTING.md 作成
- [ ] コンポーネントドキュメント（Storybook or MDX）
- [ ] API連携ドキュメント

#### C-4.2 本番環境準備
- [ ] 本番用Dockerコンテナ作成（Nginx）
- [ ] 環境変数設定（`.env.production`）
- [ ] CI/CD 本番デプロイ設定
- [ ] モニタリング設定（Sentry等）

**成果物**: リリース可能な状態、完全なドキュメント

---

## 3. タスク優先順位

### 最優先（P0）- Phase A（UI実装フェーズ）
1. プロジェクトセットアップ（Phase A-0）
2. 基盤コンポーネント（Phase A-1）
3. 全画面UI実装（Phase A-2, A-3, A-4）
4. UI最終調整（Phase A-5）

### 高優先（P1）- Phase B（ロジック実装フェーズ）
5. API連携基盤（Phase B-1）
6. エントリー一覧のロジック（Phase B-2）
7. ランキングのロジック（Phase B-3）
8. その他画面のロジック（Phase B-4）

### 中優先（P2）- Phase C（最適化フェーズ）
9. トップページSSG化（Phase C-1）
10. パフォーマンス最適化（Phase C-2）

### 低優先（P3）- Phase C（仕上げフェーズ）
11. 統合テスト・アクセシビリティ（Phase C-3）
12. ドキュメント整備（Phase C-4）

## 4. 技術的な実装順序

### 4.1 依存関係を考慮した順序

```
Phase A-0 (セットアップ)
  ↓
Phase A-1 (基盤コンポーネントUI) ←─ モックデータ作成
  ↓
Phase A-2 (エントリー一覧UI)     ←─ 最も基本的な画面
  ↓
Phase A-3 (ランキングUI)         ←─ エントリーカード再利用
  ↓
Phase A-4 (その他画面UI)         ←─ 独立した画面
  ↓
Phase A-5 (UI最終調整)          ←─ デザイン統一
  ↓
────────────────────────────────────
  ↓
Phase B-1 (API連携基盤)         ←─ OpenAPI + TanStack Query
  ↓
Phase B-2 (エントリーロジック)    ←─ UIにロジック追加
  ↓
Phase B-3 (ランキングロジック)    ←─ UIにロジック追加
  ↓
Phase B-4 (その他ロジック)       ←─ UIにロジック追加
  ↓
────────────────────────────────────
  ↓
Phase C-1 (SSG化)              ←─ 最適化
  ↓
Phase C-2 (パフォーマンス)       ←─ 最適化
  ↓
Phase C-3 (テスト)             ←─ 品質向上
  ↓
Phase C-4 (最終調整)           ←─ リリース準備
```

### 4.2 並行開発可能な領域

以下のタスクは並行して進められる：

**Phase A（UI実装フェーズ）**
- **Phase A-2 + A-3 + A-4（一部）**
  - 各画面のUIは独立しているため、一部並行開発可能
  - ただし、基盤コンポーネント（A-1）の完成が前提

**Phase B（ロジック実装フェーズ）**
- **Phase B-2 + B-3 + B-4（一部）**
  - 各画面のロジックは独立しているため並行開発可能
  - ただし、API連携基盤（B-1）の完成が前提

**Phase C（最適化フェーズ）**
- **Phase C-2 + C-3**
  - パフォーマンス最適化とテスト作成は並行可能

### 4.3 コンポーネント実装順序（Phase A）

```
Phase A-1: 基盤コンポーネント（モックデータ使用）✅
  ↓
1. shadcn/ui コンポーネント統合
   Button, Sheet, Badge（必要最小限）
   ↓
2. レイアウトコンポーネント
   AppLayout（ヘッダー、グローバルナビゲーション、フッター、モバイルサイドバー）
   ↓
3. 共通UIコンポーネント
   EntryCard, FilterBar, SkeletonList, DateNavigation, RankingBadge,
   Sidebar, ScrollToTopButton
   ↓
4. モックデータ作成
   entries.ts, rankings.ts, archive.ts
   ↓
────────────────────────────────────
Phase A-2~A-4: 画面UI実装
  ↓
5. 各画面でモックデータを表示
   - エントリー一覧（人気順/新着順/1年前）+ Infinite scroll
   - ランキング（週次/月次/年次）
   - アーカイブ（アコーディオン形式日付リスト）、タグ、検索、履歴
   - 全画面にサイドバー（PC表示のみ）
   - トップに戻るボタン
```

### 4.4 ロジック実装順序（Phase B）

```
Phase B-1: API連携基盤
  ↓
1. OpenAPI クライアント生成
   ↓
2. API クライアントラッパー作成
   ↓
3. TanStack Query セットアップ
   ↓
────────────────────────────────────
Phase B-2~B-4: 各画面にロジック追加
  ↓
4. カスタムフック作成（useEntries, useRankings, etc.）
   ↓
5. 画面コンポーネントのモックデータを実データに置き換え
   ↓
6. インタラクション実装（フィルタ、ページネーション、etc.）
   ↓
7. テスト作成
```

## 5. リスクと対策

### 5.1 技術的リスク

| リスク | 影響度 | 対策 |
|--------|--------|------|
| OpenAPI仕様の不一致 | 高 | 早期にAPI仕様を確認し、バックエンドチームと調整 |
| TanStack Routerの学習コスト | 中 | 公式ドキュメントとサンプル実装を事前に検証 |
| SSG化の複雑性 | 中 | Phase 6を後回しにし、基本機能を優先 |
| パフォーマンス問題 | 中 | 早期からLighthouse測定、React DevTools Profilerで監視 |

### 5.2 スケジュールリスク

| リスク | 影響度 | 対策 |
|--------|--------|------|
| 見積もり精度 | 中 | 各Phaseに20%のバッファを確保 |
| 仕様変更 | 高 | Phase 0-2で基盤を固めて変更に強い構造を作る |
| リソース不足 | 中 | Phase 3までを最優先、Phase 6-8は後回し可能 |

### 5.3 品質リスク

| リスク | 影響度 | 対策 |
|--------|--------|------|
| テストカバレッジ不足 | 中 | Phase 1-5で各画面のテスト作成を必須化 |
| アクセシビリティ対応漏れ | 中 | shadcn/uiの活用、axe-coreでの自動検証 |
| レスポンシブ対応漏れ | 高 | 各画面実装時に3デバイス確認を必須化 |

## 6. 開発環境とツール

### 6.1 開発用ツール
- **IDE**: VS Code（推奨）
- **DevContainer**: `.devcontainer/devcontainer.json` で環境統一
- **パッケージマネージャー**: pnpm
- **Git**: Conventional Commits 推奨

### 6.2 コマンド一覧

```bash
# セットアップ
pnpm install

# 開発サーバー起動
pnpm dev

# ビルド
pnpm build

# プレビュー
pnpm preview

# Lint/Format
pnpm biome check --write

# テスト
pnpm test          # Vitest実行
pnpm test:watch    # Watch モード
pnpm test:coverage # カバレッジ測定

# OpenAPI クライアント生成
pnpm openapi:generate

# SSG ビルド（Phase 6以降）
pnpm build:with-top
pnpm prerender:top
```

### 6.3 CI/CD パイプライン

```yaml
name: CI
on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: pnpm/action-setup@v2
      - uses: actions/setup-node@v4
        with:
          node-version: 20
          cache: 'pnpm'
      - run: pnpm install --frozen-lockfile
      - run: pnpm biome check
      - run: pnpm tsc --noEmit
      - run: pnpm test
      - run: pnpm build
```

## 7. マイルストーン別成果物

| マイルストーン | 期間 | 成果物 | デモ可能な機能 |
|---------------|------|--------|----------------|
| **Phase A: UI実装フェーズ** |
| MA-0: セットアップ ✅ | 1-2日 | 開発環境、設定ファイル | Hello World |
| MA-1: 基盤UI ✅ | 3-4日 | 共通コンポーネント、モックデータ | **トップページ（モックデータ、Infinite scroll、サイドバー）** |
| MA-2: エントリーUI | 3-4日 | 新着/1年前、DateNavigation | **エントリー一覧画面（モックデータ）** |
| MA-3: ランキングUI | 2-3日 | 週次/月次ランキング画面UI | **ランキング画面（モックデータ）** |
| MA-4: その他UI | 3-4日 | アーカイブ、タグ、検索、履歴UI | **全画面UI（モックデータ）** |
| MA-5: UI調整 | 2-3日 | デザイン統一版 | **全画面統一デザイン（モックデータ）** |
| **Phase B: ロジック実装フェーズ** |
| MB-1: API基盤 | 2-3日 | APIクライアント、TanStack Query | データフェッチのデモ |
| MB-2: エントリーロジック | 2-3日 | トップページ、エントリー一覧（完全版） | **基本的な閲覧フロー（実データ）** |
| MB-3: ランキングロジック | 2-3日 | ランキング画面（完全版） | **ランキング機能（実データ）** |
| MB-4: その他ロジック | 3-4日 | アーカイブ、検索、履歴（完全版） | **全画面の基本実装（実データ）** |
| **Phase C: 最適化・仕上げフェーズ** |
| MC-1: SSG化 | 2-3日 | SSG対応トップページ | **トップページの高速表示** |
| MC-2: 最適化 | 2-3日 | パフォーマンス改善版 | **本番相当の品質** |
| MC-3: テスト | 2-3日 | テスト、アクセシビリティ対応 | **品質保証済み** |
| MC-4: 完成 | 1-2日 | ドキュメント、本番環境 | **リリース可能** |

**総開発期間: 28-42日（約4-6週間）**

### マイルストーンの特徴

**Phase A完了時点（14-20日後）**
- 全画面のUIが完成
  - トップページ（本日の人気）+ Infinite scroll + サイドバー + トップに戻るボタン
  - 本日の新着、1年前の人気（DateNavigation付き）
  - 週次/月次ランキング
  - アーカイブ（アコーディオン形式日付リスト）
  - タグ別エントリー、検索結果、閲覧履歴
- モックデータで全機能の見た目を確認可能
- デザインレビューが完了
- バックエンドAPIの開発状況に依存せず進行可能

**Phase B完了時点（22-30日後）**
- 全画面が実データで動作
- バックエンドAPIと完全連携
- MVPとして使用可能な状態

**Phase C完了時点（28-42日後）**
- 本番リリース可能な品質
- パフォーマンス最適化済み
- テスト・ドキュメント完備

## 8. 補足事項

### 8.1 コーディング規約
- TypeScript strict モード必須
- Biome の設定に従う
- shadcn/ui コンポーネントは直接編集せず、ラップして使用
- TanStack Query のクエリキーは `[resource, params]` 形式

### 8.2 コミットメッセージ
Conventional Commits に従う：

```
feat: 新機能追加
fix: バグ修正
docs: ドキュメント更新
style: コードスタイル変更（機能に影響なし）
refactor: リファクタリング
test: テスト追加・修正
chore: ビルド、補助ツール等の変更
```

### 8.3 ブランチ戦略
- `main`: 本番相当（保護ブランチ）
- `develop`: 開発統合ブランチ
- `feature/*`: 機能開発ブランチ
- `fix/*`: バグ修正ブランチ

### 8.4 レビュー基準
- [ ] 型エラーなし（`tsc --noEmit`）
- [ ] Biome チェック通過
- [ ] テスト追加（新規機能の場合）
- [ ] レスポンシブ対応確認（PC/タブレット/スマホ）
- [ ] アクセシビリティ確認（キーボード操作、スクリーンリーダー）

---

## 次のステップ

### 開発開始前の準備
1. **Phase A-0 の実施**: プロジェクトセットアップを完了させる
2. **モックデータ設計**: API仕様に基づいたモックデータの型定義

### Phase A（UI実装フェーズ）の進め方
1. **Phase A-1**: 基盤コンポーネントとモックデータの作成
2. **Phase A-2～A-4**: 各画面UIの実装（モックデータ表示）
3. **Phase A-5**: デザインレビューとUI最終調整
4. **マイルストーン確認**: 全10画面のUIが完成し、モックデータで動作することを確認

### Phase B（ロジック実装フェーズ）の進め方
1. **Phase B-1**: API連携基盤の構築
2. **Phase B-2～B-4**: 各画面のモックデータを実データに置き換え
3. **マイルストーン確認**: 全10画面が実データで動作することを確認

### Phase C（最適化・仕上げフェーズ）の進め方
1. **Phase C-1～C-2**: SSG化とパフォーマンス最適化
2. **Phase C-3～C-4**: テスト、ドキュメント、本番環境準備
3. **最終確認**: リリース準備完了

### レビューポイント
- **Phase A完了時**: UIデザインレビュー（全画面のモックデータ動作確認）
- **Phase B完了時**: 機能レビュー（全画面の実データ動作確認）
- **Phase C完了時**: リリースレビュー（本番環境での動作確認）

